<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Management UI</title>
  <link rel="stylesheet" href="./css/styles.css?v=2" />
  <!-- Google OAuth SDK -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <div class="container">
    <header class="app-header">
      <div class="brand">User Management</div>
      <nav class="nav">
        <button class="nav-btn" data-view="login">Login</button>
        <button class="nav-btn" data-view="users" disabled>Users</button>
      </nav>
    </header>

    <main>
      <!-- Login View -->
      <section id="view-login" class="view active">
        <div class="card">
          <h2>Welcome to User Management</h2>
          <p class="muted">Choose your preferred way to sign in</p>
          
          <!-- Google Login Section -->
          <div class="login-option">
            <div class="google-login-container">
              <button id="btnGoogleLogin" class="btn-google">
                <svg class="google-icon" viewBox="0 0 24 24" width="18" height="18">
                  <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                  <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                  <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                  <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
              </button>
              <div id="googleLoginMsg" class="muted"></div>
            </div>
          </div>

          <!-- Divider -->
          <div class="login-divider">
            <div class="divider-line"></div>
            <span class="divider-text">OR</span>
            <div class="divider-line"></div>
          </div>

          <!-- Email/Password Login Section -->
          <div class="login-option">
            <h3 class="login-subtitle">Sign in with Email</h3>
            <div class="grid two">
              <label>
                <span>Email</span>
                <input id="login_email" type="email" placeholder="admin@example.com" required />
              </label>
              <label>
                <span>Password</span>
                <input id="login_password" type="password" placeholder="password123" required />
              </label>
            </div>
            <div class="row">
              <button id="btnLogin" class="btn">Sign In</button>
            </div>
            <div id="loginMsg" class="muted"></div>
          </div>
          
          <!-- Demo Accounts (moved to bottom and made smaller) -->
          <div class="demo-accounts">
            <details class="demo-details">
              <summary class="demo-summary">Demo Accounts</summary>
              <div class="demo-content">
                <p><strong>Admin:</strong> admin@example.com / password123</p>
                <p><strong>User:</strong> john@example.com / password123</p>
              </div>
            </details>
          </div>
        </div>
      </section>

      <!-- Users List View -->
      <section id="view-users" class="view">
        <div class="toolbar">
          <div class="title">
            Users
            <div class="user-info" style="font-size: 12px; color: var(--muted); font-weight: normal;">
              Logged in as: <span class="user-display">Loading...</span>
            </div>
          </div>
          <div class="actions">
            <button id="btnAddUser" class="btn success admin-only">Add User</button>
            <button id="btnRefresh" class="btn secondary">Refresh</button>
            <button id="btnLogout" class="btn danger">Logout</button>
          </div>
        </div>
        <div class="card">
          <div class="grid two">
            <label>
              <span>Search</span>
              <input id="search_input" placeholder="name or email" />
            </label>
            <label>
              <span>Status</span>
              <select id="status_filter">
                <option value="">All</option>
                <option value="ACTIVE">ACTIVE</option>
                <option value="INACTIVE">INACTIVE</option>
                <option value="SUSPENDED">SUSPENDED</option>
              </select>
            </label>
          </div>
          <div class="row">
            <button id="btnSearch" class="btn">Search</button>
            <button id="btnTestAPI" class="btn secondary">Test API</button>
          </div>
        </div>

        <div class="card" style="overflow:auto">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <th>Status</th>
                <th style="width: 200px;">Actions</th>
              </tr>
            </thead>
            <tbody id="users_table"></tbody>
          </table>
        </div>

        <div id="user_details" class="card hidden"></div>
      </section>

      <!-- Add User Modal -->
      <section id="view-add-user" class="view modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>Add New User</h2>
            <button id="btnCloseModal" class="btn-close">&times;</button>
          </div>
          <div class="card">
            <div class="grid two">
              <label>
                <span>Username *</span>
                <input id="new_username" type="text" placeholder="john_doe" required />
              </label>
              <label>
                <span>Email *</span>
                <input id="new_email" type="email" placeholder="john@example.com" required />
              </label>
              <label>
                <span>First Name *</span>
                <input id="new_firstName" type="text" placeholder="John" required />
              </label>
              <label>
                <span>Last Name *</span>
                <input id="new_lastName" type="text" placeholder="Doe" required />
              </label>
              <label>
                <span>Phone</span>
                <input id="new_phone" type="text" placeholder="+1-555-123-4567" />
              </label>
              <label>
                <span>Role *</span>
                <select id="new_role" required>
                  <option value="USER">User</option>
                  <option value="ADMIN">Admin</option>
                </select>
              </label>
              <label style="grid-column: 1 / -1;">
                <span>Password *</span>
                <input id="new_password" type="password" placeholder="Enter password" required />
              </label>
            </div>
            <div class="row">
              <button id="btnCreateUser" class="btn">Create User</button>
              <button id="btnCancelCreate" class="btn secondary">Cancel</button>
            </div>
            <div id="createUserMsg" class="muted"></div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">User Management • Responsive UI • Frontend</footer>
  </div>

  <script src="./js/config.js"></script>
  <script src="./js/app.js?v=4" defer></script>
</body>
</html> 